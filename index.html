<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<style>
* {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    font-size: 1rem;
    font-family:sans-serif;
    font-weight: 300;
}
main{
    display:flex;
}
button{
    padding: .1rem;
    padding-left: .3rem;
    padding-right: .3rem;
}
.container {
    margin: 1rem;
    border: 1px black solid;
    height: 520px;
    width: 60rem;
    padding: 10px;
    align-items: flex-end;
    display: flex;

}


.bar{
    display: block;
    background-color: rgb(255, 0, 0);
    width: .5rem;
    height: 0;
    padding: 0;
    margin: 0.1rem;

}
.positive{
    background-color: rgb(0, 155, 0);
}
.graduate{
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
}
.hidden{
    display: none;
}





.control{
    margin-top: 1rem;
}
h1{
    font-weight: 600;
    font-size: 1.5rem;
}
h2{
    border-bottom: 1px solid black; 
    font-weight: 600;
    margin-top: 1rem;
}
h3{
    margin-top: 1rem;
}
#selectpret1,#selectpret2,#selectpret3,p{
    font-size: .75rem;

}
.choosepret{
    display: flex;
}
.choosepret article {
    display: flex;
    flex-direction: column;
    text-align: center;
    margin: .25rem;
}
.chooseaction{
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}
.chooseaction article{
    display: flex;
    flex-direction: column;
    align-items: center;
}
.fin{
    margin: 5rem;
}


</style>
</head>
<body>
    <main id="main">
        <section class="container">
            <div class="graduate">
                <p>1000</p>
                <p>750</p>
                <p>500</p>
                <p>250</p>
                <p>0</p>
            </div>
            <span id="b60"class="bar b60"></span>
            <span id="b59"class="bar b59"></span>
            <span id="b58"class="bar b58"></span>
            <span id="b57"class="bar b57"></span>
            <span id="b56"class="bar b56"></span>
            <span id="b55"class="bar b55"></span>
            <span id="b54"class="bar b54"></span>
            <span id="b53"class="bar b53"></span>
            <span id="b52"class="bar b52"></span>
            <span id="b51"class="bar b51"></span>
            <span id="b50"class="bar b50"></span>
            <span id="b49"class="bar b49"></span>
            <span id="b48"class="bar b48"></span>
            <span id="b47"class="bar b47"></span>
            <span id="b46"class="bar b46"></span>
            <span id="b45"class="bar b45"></span>
            <span id="b44"class="bar b44"></span>
            <span id="b43"class="bar b43"></span>
            <span id="b42"class="bar b42"></span>
            <span id="b41"class="bar b41"></span>
            <span id="b40"class="bar b40"></span>
            <span id="b39"class="bar b39"></span>
            <span id="b38"class="bar b38"></span>
            <span id="b37"class="bar b37"></span>
            <span id="b36"class="bar b36"></span>
            <span id="b35"class="bar b35"></span>
            <span id="b34"class="bar b34"></span>
            <span id="b33"class="bar b33"></span>
            <span id="b32"class="bar b32"></span>
            <span id="b31"class="bar b31"></span>
            <span id="b30"class="bar b30"></span>
            <span id="b29"class="bar b29"></span>
            <span id="b28"class="bar b28"></span>
            <span id="b27"class="bar b27"></span>
            <span id="b26"class="bar b26"></span>
            <span id="b25"class="bar b25"></span>
            <span id="b24"class="bar b24"></span>
            <span id="b23"class="bar b23"></span>
            <span id="b22"class="bar b22"></span>
            <span id="b21"class="bar b21"></span>
            <span id="b20"class="bar b20"></span>
            <span id="b19"class="bar b19"></span>
            <span id="b18"class="bar b18"></span>
            <span id="b17"class="bar b17"></span>
            <span id="b16"class="bar b16"></span>
            <span id="b15"class="bar b15"></span>
            <span id="b14"class="bar b14"></span>
            <span id="b13"class="bar b13"></span>
            <span id="b12"class="bar b12"></span>
            <span id="b11"class="bar b11"></span>
            <span id="b10"class="bar b10"></span>
            <span id="b9"class="bar b9"></span>
            <span id="b8"class="bar b8"></span>
            <span id="b7"class="bar b7"></span>
            <span id="b6"class="bar b6"></span>
            <span id="b5"class="bar b5"></span>
            <span id="b4"class="bar b4"></span>
            <span id="b3"class="bar b3"></span>
            <span id="b2"class="bar b2"></span>
            <span id="b1"class="bar b1"></span>
            <span id="b0"class="bar b0"></span>
        </section>
        <section class="control">
            <p id="timer"></p>
            <h1>Contrôles</h1>

            <h2>Argent</h2>
            <p> <span id="money">0</span> $</p>

            <section id="pretContainer">
                <h2>Prêt à la banque</h2>
                <h3>Valeur du prêt</h3>
                <section class="choosepret">
                    <article>
                        <p>1 000$</p>
                        <button id="selectpret1">Souscrire</button>
                    </article>
                </section>
                <h3>Taux d'empunt</h3>
                <p> <span id="Inputtaux">3</span> %</p>    
                <h3>Intérêts à payer</h3>
                <p> <b id="interet">0</b> $</p>   
                <h3>Temps avant remboursement</h3>
                <p> <b id="Trembousement">0</b> secondes</p>
            </section>



            <h2>Actions en Bourses</h2>
            <h3>Valeur de l'action</h3>
            <p> <b id="Vmarche">0</b> $</p>
            <section class="chooseaction">
                <article>
                    <p> <b id="Vacheter"></b>   $</p>
                    <button id="acheter">Acheter</button>
                </article>
                <article>
                    <p> <b id="Vvendre"></b>   $</p>
                    <button id="vendre">Vendre</button>
                </article>
            </section>

        </section>

    </main>
    <section class="fin">
        <h1 id="timeReload">temps</h1>
        <button id="reload">Relancer</button>
    </section>
    
<script>

let main =document.querySelector('#main');
let moneyEl = document.querySelector('#money');
let moneyMinusEl = document.querySelector('#interet');
let valeurPretEl = document.querySelector('#Inputtaux');
let timerPretEl = document.querySelector('#Trembousement');
let valeurBourseEl = document.querySelector('#Vmarche');
let pretContainer = document.querySelector('#pretContainer');

let valeurAchat = 0;
let valeurVente = 0;
let acheterEl = document.querySelector('#acheter');
let vendreEl = document.querySelector('#vendre');
let acheterText = document.querySelector('#Vacheter');
let vendreText = document.querySelector('#Vvendre');
let reloadEl = document.querySelector('#reload');
let timerEl = document.querySelector('#timer');
let timeReload = document.querySelector('#timeReload');

let b0El = document.querySelector('#b0');
let b1El = document.querySelector('#b1');
let b2El = document.querySelector('#b2');
let b3El = document.querySelector('#b3');
let b4El = document.querySelector('#b4');
let b5El = document.querySelector('#b5');
let b6El = document.querySelector('#b6');
let b7El = document.querySelector('#b7');
let b8El = document.querySelector('#b8');
let b9El = document.querySelector('#b9');
let b10El = document.querySelector('#b10');
let b11El = document.querySelector('#b11');
let b12El = document.querySelector('#b12');
let b13El = document.querySelector('#b13');
let b14El = document.querySelector('#b14');
let b15El = document.querySelector('#b15');
let b16El = document.querySelector('#b16');
let b17El = document.querySelector('#b17');
let b18El = document.querySelector('#b18');
let b19El = document.querySelector('#b19');
let b20El = document.querySelector('#b20');
let b21El = document.querySelector('#b21');
let b22El = document.querySelector('#b22');
let b23El = document.querySelector('#b23');
let b24El = document.querySelector('#b24');
let b25El = document.querySelector('#b25');
let b26El = document.querySelector('#b26');
let b27El = document.querySelector('#b27');
let b28El = document.querySelector('#b28');
let b29El = document.querySelector('#b29');
let b30El = document.querySelector('#b30');
let b31El = document.querySelector('#b31');
let b32El = document.querySelector('#b32');
let b33El = document.querySelector('#b33');
let b34El = document.querySelector('#b34');
let b35El = document.querySelector('#b35');
let b36El = document.querySelector('#b36');
let b37El = document.querySelector('#b37');
let b38El = document.querySelector('#b38');
let b39El = document.querySelector('#b39');
let b40El = document.querySelector('#b40');
let b41El = document.querySelector('#b41');
let b42El = document.querySelector('#b42');
let b43El = document.querySelector('#b43');
let b44El = document.querySelector('#b44');
let b45El = document.querySelector('#b45');
let b46El = document.querySelector('#b46');
let b47El = document.querySelector('#b47');
let b48El = document.querySelector('#b48');
let b49El = document.querySelector('#b49');
let b50El = document.querySelector('#b50');
let b51El = document.querySelector('#b51');
let b52El = document.querySelector('#b52');
let b53El = document.querySelector('#b53');
let b54El = document.querySelector('#b54');
let b55El = document.querySelector('#b55');
let b56El = document.querySelector('#b56');
let b57El = document.querySelector('#b57');
let b58El = document.querySelector('#b58');
let b59El = document.querySelector('#b59');
let b60El = document.querySelector('#b60');


let money = 0;
let moneyMinus = 0;
let valeurPret = 1;
let timerPret = 0;
let validationPret = true;
let isRunning = false;
let isFinished = false;
let valeurBourse = 500;

let timer = 0;
let fin = false;

reloadEl.classList.add('hidden');
timeReload.classList.add('hidden');

window.setInterval(()=>{
    if(money < 0){
        if (fin == false){
            fin = true;
            main.classList.add('hidden');
            timeReload.textContent = timer + " secondes";
            timeReload.classList.remove('hidden');
            reloadEl.classList.remove('hidden');
        }
        
    }
},1)



function fTimer() {
    window.setInterval(()=>{
        timer = timer+ 1;
        timerEl.textContent = timer + " secondes";
    }, 1000);
}

reloadEl.addEventListener("click", ()=>{
    location.reload();
})



acheterEl.addEventListener("click", () =>{
    if (valeurAchat <= 0){
        valeurAchat = valeurBourse;
        console.log(valeurAchat);
        acheterText.textContent = valeurAchat;
        vendreText.textContent = "";
    } 
    else {
        return;
    }
})
vendreEl.addEventListener("click", ()=>{
    if (valeurAchat > 0){
        valeurVente = valeurBourse;
        console.log(valeurVente);
        console.log(((valeurVente - valeurAchat)* money)/1000);
        money = money + (((valeurVente-valeurAchat)* money)/1000);
        money = Math.round(money + 0);
        moneyEl.textContent = money;
        valeurAchat = 0;
        valeurVente = 0;
        acheterText.textContent = "";
        vendreText.textContent = valeurVente;
    }
    else{
        return;
    }
})



const buttunPret1 = document.querySelector('#selectpret1');



buttunPret1.addEventListener("click", () =>{
    if (isRunning == true) {
        return;
    }
    isRunning = true;
    isFinished = false;
    timerPret = 60;
    money = money + 1000;
    moneyMinus = moneyMinus + (1000 + 1000 * (valeurPret/100));
    moneyMinusEl.textContent = moneyMinus;
    moneyEl.textContent = money;
    startTimerPret ();
    fTimer();
    return;
})


function startTimerPret () {
    if (isFinished == true) {
        return;
    }
    window.setInterval(() => {
        if (isFinished == true) {
            return;
        }
        if (timerPret>0){
            timerPret = timerPret - 1;
            timerPretEl.textContent = timerPret;
        }
        if (timerPret <= 0){
            money = money - moneyMinus;
            moneyEl.textContent = money;
            moneyMinus = 0;
            moneyMinusEl.textContent = moneyMinus;
            isRunning = false;
            isFinished = true;
            pretContainer.classList.add('hidden');
            return;
            
        }
    }, 1000);
}





window.setInterval(() => {
    valeurPret = valeurPret + randomPret(0, 3);
    valeurPretEl.textContent = valeurPret;
}, 10000);
function randomPret(min, max) {
  return Math.round(Math.random() * (max - min) + min)-1;
}


window.setInterval(() => {
    valeurBourse = valeurBourse + randomBourse(0, 80);
    valeurBourseEl.textContent = valeurBourse;
    b0El.style.height = valeurBourse/2 + "px";
    if (b0El.style.height > b1El.style.height){
        b0El.classList.add('positive');
    }
    else{
        b0El.classList.remove('positive');
    }
    if(valeurBourse >= 1000){
        valeurBourse = valeurBourse - 100;
        console.log(1000);
    }
    if(valeurBourse <= 0){
        valeurBourse =valeurBourse + 100;
        console.log(0);
    }
}, 1000);
function randomBourse(min, max) {
  return Math.round(Math.random() * (max - min) + min)-40;
}

window.setInterval(()=>{
    b60El.style.height = b59El.style.height;
    b59El.style.height = b58El.style.height;
    b58El.style.height = b57El.style.height;
    b57El.style.height = b56El.style.height;
    b56El.style.height = b55El.style.height;
    b55El.style.height = b54El.style.height;
    b54El.style.height = b53El.style.height;
    b53El.style.height = b52El.style.height;
    b52El.style.height = b51El.style.height;
    b51El.style.height = b50El.style.height;
    b50El.style.height = b49El.style.height;
    b49El.style.height = b48El.style.height;
    b48El.style.height = b47El.style.height;
    b47El.style.height = b46El.style.height;
    b46El.style.height = b45El.style.height;
    b45El.style.height = b44El.style.height;
    b44El.style.height = b43El.style.height;
    b43El.style.height = b42El.style.height;
    b42El.style.height = b41El.style.height;
    b41El.style.height = b40El.style.height;
    b40El.style.height = b39El.style.height;
    b39El.style.height = b38El.style.height;
    b38El.style.height = b37El.style.height;
    b37El.style.height = b36El.style.height;
    b36El.style.height = b35El.style.height;
    b35El.style.height = b34El.style.height;
    b34El.style.height = b33El.style.height;
    b33El.style.height = b32El.style.height;
    b32El.style.height = b31El.style.height;
    b31El.style.height = b30El.style.height;
    b30El.style.height = b29El.style.height;
    b29El.style.height = b28El.style.height;
    b28El.style.height = b27El.style.height;
    b27El.style.height = b26El.style.height;
    b26El.style.height = b25El.style.height;
    b25El.style.height = b24El.style.height;
    b24El.style.height = b23El.style.height;
    b23El.style.height = b22El.style.height;
    b22El.style.height = b21El.style.height;
    b21El.style.height = b20El.style.height;
    b20El.style.height = b19El.style.height;
    b19El.style.height = b18El.style.height;
    b18El.style.height = b17El.style.height;
    b17El.style.height = b16El.style.height;
    b16El.style.height = b15El.style.height;
    b15El.style.height = b14El.style.height;
    b14El.style.height = b13El.style.height;
    b13El.style.height = b12El.style.height;
    b12El.style.height = b11El.style.height;
    b11El.style.height = b10El.style.height;
    b10El.style.height = b9El.style.height;
    b9El.style.height = b8El.style.height;
    b8El.style.height = b7El.style.height;
    b7El.style.height = b6El.style.height;
    b6El.style.height = b5El.style.height;
    b5El.style.height = b4El.style.height;
    b4El.style.height = b3El.style.height;
    b3El.style.height = b2El.style.height;
    b2El.style.height = b1El.style.height;
    b1El.style.height = b0El.style.height;


    
    if (b1El.style.height > b2El.style.height){
        b1El.classList.add('positive');
    }
    else{
        b1El.classList.remove('positive');
    }
    if (b2El.style.height > b3El.style.height){
        b2El.classList.add('positive');
    }
    else{
        b2El.classList.remove('positive');
    }
    if (b3El.style.height > b4El.style.height){
        b3El.classList.add('positive');
    }
    else{
        b3El.classList.remove('positive');
    }
    if (b4El.style.height > b5El.style.height){
        b4El.classList.add('positive');
    }
    else{
        b4El.classList.remove('positive');
    }
    if (b5El.style.height > b6El.style.height){
        b5El.classList.add('positive');
    }
    else{
        b5El.classList.remove('positive');
    }
    if (b6El.style.height > b7El.style.height){
        b6El.classList.add('positive');
    }
    else{
        b6El.classList.remove('positive');
    }
    if (b7El.style.height > b8El.style.height){
        b7El.classList.add('positive');
    }
    else{
        b7El.classList.remove('positive');
    }
    if (b8El.style.height > b9El.style.height){
        b8El.classList.add('positive');
    }
    else{
        b8El.classList.remove('positive');
    }
    if (b9El.style.height > b10El.style.height){
        b9El.classList.add('positive');
    }
    else{
        b9El.classList.remove('positive');
    }
    if (b10El.style.height > b11El.style.height){
        b10El.classList.add('positive');
    }
    else{
        b10El.classList.remove('positive');
    }
    
    
    if (b11El.style.height > b12El.style.height){
        b11El.classList.add('positive');
    }
    else{
        b11El.classList.remove('positive');
    }
    if (b12El.style.height > b13El.style.height){
        b12El.classList.add('positive');
    }
    else{
        b12El.classList.remove('positive');
    }
    if (b13El.style.height > b14El.style.height){
        b13El.classList.add('positive');
    }
    else{
        b13El.classList.remove('positive');
    }
    if (b14El.style.height > b15El.style.height){
        b14El.classList.add('positive');
    }
    else{
        b14El.classList.remove('positive');
    }
    if (b15El.style.height > b16El.style.height){
        b15El.classList.add('positive');
    }
    else{
        b15El.classList.remove('positive');
    }
    if (b16El.style.height > b17El.style.height){
        b16El.classList.add('positive');
    }
    else{
        b16El.classList.remove('positive');
    }
    if (b17El.style.height > b18El.style.height){
        b17El.classList.add('positive');
    }
    else{
        b17El.classList.remove('positive');
    }
    if (b18El.style.height > b19El.style.height){
        b18El.classList.add('positive');
    }
    else{
        b18El.classList.remove('positive');
    }
    if (b19El.style.height > b20El.style.height){
        b19El.classList.add('positive');
    }
    else{
        b19El.classList.remove('positive');
    }
    if (b20El.style.height > b21El.style.height){
        b20El.classList.add('positive');
    }
    else{
        b20El.classList.remove('positive');
    }


    if (b21El.style.height > b22El.style.height){
        b21El.classList.add('positive');
    }
    else{
        b21El.classList.remove('positive');
    }
    if (b22El.style.height > b23El.style.height){
        b22El.classList.add('positive');
    }
    else{
        b22El.classList.remove('positive');
    }
    if (b23El.style.height > b24El.style.height){
        b23El.classList.add('positive');
    }
    else{
        b23El.classList.remove('positive');
    }
    if (b24El.style.height > b25El.style.height){
        b24El.classList.add('positive');
    }
    else{
        b24El.classList.remove('positive');
    }
    if (b25El.style.height > b26El.style.height){
        b25El.classList.add('positive');
    }
    else{
        b25El.classList.remove('positive');
    }
    if (b26El.style.height > b27El.style.height){
        b26El.classList.add('positive');
    }
    else{
        b26El.classList.remove('positive');
    }
    if (b27El.style.height > b28El.style.height){
        b27El.classList.add('positive');
    }
    else{
        b27El.classList.remove('positive');
    }
    if (b28El.style.height > b29El.style.height){
        b28El.classList.add('positive');
    }
    else{
        b28El.classList.remove('positive');
    }
    if (b29El.style.height > b30El.style.height){
        b29El.classList.add('positive');
    }
    else{
        b29El.classList.remove('positive');
    }
    if (b30El.style.height > b31El.style.height){
        b30El.classList.add('positive');
    }
    else{
        b30El.classList.remove('positive');
    }


    if (b31El.style.height > b32El.style.height){
        b31El.classList.add('positive');
    }
    else{
        b31El.classList.remove('positive');
    }
    if (b32El.style.height > b33El.style.height){
        b32El.classList.add('positive');
    }
    else{
        b32El.classList.remove('positive');
    }
    if (b33El.style.height > b34El.style.height){
        b33El.classList.add('positive');
    }
    else{
        b33El.classList.remove('positive');
    }
    if (b34El.style.height > b35El.style.height){
        b34El.classList.add('positive');
    }
    else{
        b34El.classList.remove('positive');
    }
    if (b35El.style.height > b36El.style.height){
        b35El.classList.add('positive');
    }
    else{
        b35El.classList.remove('positive');
    }
    if (b36El.style.height > b37El.style.height){
        b36El.classList.add('positive');
    }
    else{
        b36El.classList.remove('positive');
    }
    if (b37El.style.height > b38El.style.height){
        b37El.classList.add('positive');
    }
    else{
        b37El.classList.remove('positive');
    }
    if (b38El.style.height > b39El.style.height){
        b38El.classList.add('positive');
    }
    else{
        b38El.classList.remove('positive');
    }
    if (b39El.style.height > b40El.style.height){
        b39El.classList.add('positive');
    }
    else{
        b39El.classList.remove('positive');
    }
    if (b40El.style.height > b41El.style.height){
        b40El.classList.add('positive');
    }
    else{
        b40El.classList.remove('positive');
    }


    if (b41El.style.height > b42El.style.height){
        b41El.classList.add('positive');
    }
    else{
        b41El.classList.remove('positive');
    }
    if (b42El.style.height > b43El.style.height){
        b42El.classList.add('positive');
    }
    else{
        b42El.classList.remove('positive');
    }
    if (b43El.style.height > b44El.style.height){
        b43El.classList.add('positive');
    }
    else{
        b43El.classList.remove('positive');
    }
    if (b44El.style.height > b45El.style.height){
        b44El.classList.add('positive');
    }
    else{
        b44El.classList.remove('positive');
    }
    if (b45El.style.height > b46El.style.height){
        b45El.classList.add('positive');
    }
    else{
        b45El.classList.remove('positive');
    }
    if (b46El.style.height > b47El.style.height){
        b46El.classList.add('positive');
    }
    else{
        b46El.classList.remove('positive');
    }
    if (b47El.style.height > b48El.style.height){
        b47El.classList.add('positive');
    }
    else{
        b47El.classList.remove('positive');
    }
    if (b48El.style.height > b49El.style.height){
        b48El.classList.add('positive');
    }
    else{
        b48El.classList.remove('positive');
    }
    if (b49El.style.height > b50El.style.height){
        b49El.classList.add('positive');
    }
    else{
        b49El.classList.remove('positive');
    }
    if (b50El.style.height > b51El.style.height){
        b50El.classList.add('positive');
    }
    else{
        b50El.classList.remove('positive');
    }


    if (b51El.style.height > b52El.style.height){
        b51El.classList.add('positive');
    }
    else{
        b51El.classList.remove('positive');
    }
    if (b52El.style.height > b53El.style.height){
        b52El.classList.add('positive');
    }
    else{
        b52El.classList.remove('positive');
    }
    if (b53El.style.height > b54El.style.height){
        b53El.classList.add('positive');
    }
    else{
        b53El.classList.remove('positive');
    }
    if (b54El.style.height > b55El.style.height){
        b54El.classList.add('positive');
    }
    else{
        b54El.classList.remove('positive');
    }
    if (b55El.style.height > b56El.style.height){
        b55El.classList.add('positive');
    }
    else{
        b55El.classList.remove('positive');
    }
    if (b56El.style.height > b57El.style.height){
        b56El.classList.add('positive');
    }
    else{
        b56El.classList.remove('positive');
    }
    if (b57El.style.height > b58El.style.height){
        b57El.classList.add('positive');
    }
    else{
        b57El.classList.remove('positive');
    }
    if (b58El.style.height > b59El.style.height){
        b58El.classList.add('positive');
    }
    else{
        b58El.classList.remove('positive');
    }
    if (b59El.style.height > b60El.style.height){
        b59El.classList.add('positive');
    }
    else{
        b59El.classList.remove('positive');
    }


},3000);
















</script>
</body>
</html>